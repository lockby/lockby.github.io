<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Disqus!</title>
    <style>
      body {
        padding: 10px;
        background-color: #1E2124;
      }
        
      #disqus_thread a {
        color : #bae6fd
      }
    </style>

    <script src="/script.js" defer></script>
  </head>
  <body>
    <div id="disqus_thread">
    </div>
    <script>
      /**
       *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
       *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
      var url_string = window.location.href;
      var url = new URL(url_string);
      var id = url.searchParams.get("id");
      var title = url.searchParams.get("title");
      var type = url.searchParams.get("type");
      document.title = title;

      var disqus_config = function () {
        if (type == "manga") {
          this.page.url = "https://kiryuu.id/manga/" + id; // Replace PAGE_URL with your page's canonical URL variable
        } else {
          this.page.url = "https://kiryuu.id/" + id; // Replace PAGE_URL with your page's canonical URL variable
        }

        this.page.identifier = id;
        this.page.title = title; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
      };

      (function () {
        // DON'T EDIT BELOW THIS LINE
        var d = document,
          s = d.createElement("script");
        s.src = "https://kiryuu-id.disqus.com/embed.js";
        s.setAttribute("data-timestamp", +new Date());
        (d.head || d.body).appendChild(s);
      })();

      
      // hide disqus ads
      const targetNode = document.getElementById('disqus_thread');
      const config = { attributes: true, childList: true, subtree: true };
      const callback = function (mutationList, observer) {
        for (const mutation of mutationList) {
          if (mutation.type === "childList") {
            document.getElementById('disqus_thread').querySelector("iframe:first-child").style.display = "none"
          } 
        }
      };

      const observer = new MutationObserver(callback);
      // Start observing the target node for configured mutations
      observer.observe(targetNode, config);
    </script>
    <noscript>
      Please enable JavaScript to view the
      <a href="https://disqus.com/?ref_noscript" rel="nofollow">
        comments powered by Disqus.
      </a>
    </noscript>
  </body>
</html>
